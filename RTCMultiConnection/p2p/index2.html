<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Residential building Scene</title>
	<style>
		body {
			margin: 0;
			padding: 0;
			overflow: hidden;
		}
	</style>
	<script>
		window.peers={}
	</script>
	<script src="lib/RTCMultiConnection.js"></script>
</head>

<body>
<script src="./lib/webrtc/adapter-latest.js"></script>
<script src="./lib/webrtc/socket.io.js"></script>
<script src="./lib/webrtc/FileBufferReader.js"></script>
<script src="./lib/RTCMultiConnection.js"></script>
<script>
	var rtConnection = new RTCMultiConnection();
	window.rtc=rtConnection
	//rtConnection.socketURL = "http://localhost:9001/";
	//rtConnection.socketURL = "http://localhost:9001/";
	rtConnection.socketURL ='https://rtcmulticonnection.herokuapp.com:443/';
	rtConnection.enableFileSharing = true; // by default, it is "false".
	rtConnection.session = {data: true};
	rtConnection.onopen = function (test) {
		console.log("Open the connection",test);
		setInterval(() => {
			//rtConnection.send(Array.from("data"));
		}, 1000);
	};
	rtConnection.onmessage = function (event) {
		console.log('onmessage',event.data)
	};
	rtConnection.onerror = function () {
		console.log("error, disconnect to other peers");
	};
	rtConnection.onclose = function () {
		console.log("Close the connection");
	};
	rtConnection.openOrJoin("room001");
</script>
</body>
</html>
